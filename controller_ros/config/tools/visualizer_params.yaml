# visualizer_params.yaml
# TurtleBot1 运行可视化配置
#
# 使用方法:
#   roslaunch controller_ros platforms/turtlebot1.launch visualizer:=true
#
# =============================================================================
# 配置统一性说明
# =============================================================================
# 
# 共享配置 (自动从全局配置读取，无需在此定义):
# - 话题: odom, trajectory, cmd_unified, diagnostics, emergency_stop
#   → 从 topics.* 读取
# - 速度限制: v_max, omega_max
#   → 从 constraints.* 读取
#
# 本文件只定义可视化器特有的配置。
#

# =============================================================================
# 话题配置 - 仅可视化器特有话题
# =============================================================================
topics:
  camera_image: "/usb_cam/image_raw"      # 相机图像
  joy: "/joy"                             # 手柄输入
  cmd_vel_output: "/joy_cmd_vel"          # 手柄控制输出
  control_mode: "/visualizer/control_mode"  # 控制模式 (true=手柄, false=网络)

# =============================================================================
# 显示配置
# =============================================================================
display:
  update_rate: 30                         # GUI 刷新率 (Hz)
  velocity_history_sec: 10                # 速度历史显示时长 (秒)
  
  # 轨迹颜色 (RGB)
  trajectory_color: [0, 255, 0]           # 绿色
  robot_color: [255, 0, 0]                # 红色
  target_color: [255, 255, 0]             # 黄色

# =============================================================================
# 手柄配置 (Xbox 控制器)
# =============================================================================
joystick:
  # 按钮映射
  enable_button: 4                        # LB 键 - 使能手柄控制
  
  # 轴映射
  linear_axis: 1                          # 左摇杆 Y 轴 - 前进/后退
  angular_axis: 3                         # 右摇杆 X 轴 - 转向
  left_x_axis: 0
  left_y_axis: 1
  right_x_axis: 3
  right_y_axis: 4
  
  # 死区
  deadzone: 0.1
  
  # 发布频率
  publish_rate: 20.0                      # 手柄命令发布频率 (Hz)

# =============================================================================
# 相机配置
# =============================================================================
camera:
  use_camera: true                        # 是否使用相机图像
  calibration_file: ""   # 通过 launch 参数指定: calibration_file:=$(rospack find controller_ros)/config/tools/homography_calib.yaml                    # 单应性标定文件路径 (需要先标定)
