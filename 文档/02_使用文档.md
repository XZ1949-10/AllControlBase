# Universal Controller 使用文档

> 版本: v3.17.12 | 日期: 2024-12-22

## 1. 快速开始

### 1.1 安装依赖

```bash
# 基础依赖
pip install numpy scipy PyYAML

# 可视化 Dashboard (可选)
pip install PyQt5 matplotlib

# ACADOS 求解器 (可选，提供更好的 MPC 性能)
# 请参考 ACADOS 官方文档安装
```

### 1.2 基本使用

```python
from universal_controller import ControllerManager, DEFAULT_CONFIG
from universal_controller.mock.test_data_generator import create_test_trajectory, create_test_odom

# 创建配置
config = DEFAULT_CONFIG.copy()
config['system']['platform'] = 'differential'  # 差速车

# 创建控制器管理器
manager = ControllerManager(config)
manager.initialize_default_components()

# 控制循环
odom = create_test_odom(x=0, y=0, theta=0, vx=0.5)
trajectory = create_test_trajectory(trajectory_type='sine')

cmd = manager.update(odom, trajectory)
print(f"vx={cmd.vx:.2f}, omega={cmd.omega:.2f}")

# 清理
manager.shutdown()
```

### 1.3 运行示例

```bash
# 运行主程序示例
python -m universal_controller.main

# 运行可视化 Dashboard
python -m universal_controller.dashboard.run_dashboard

# 运行测试
python universal_controller/tests/run_all_tests.py
```

---

## 2. 平台配置

### 2.1 差速车 (Differential)

```python
config = DEFAULT_CONFIG.copy()
config['system']['platform'] = 'differential'

# 输出: vx (前向速度), omega (角速度)
# 坐标系: base_link (机体坐标系)
```
