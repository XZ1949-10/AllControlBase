# 统一诊断日志 - 2025-12-29 13:31:39


[0;32m======================================================================
  统一诊断工具 v2.1 - 系统调优模式
======================================================================[0m

[0;34m阶段1: 话题监控 (5.0秒)[0m

  [0;32m[OK][0m 订阅 /odom
  [0;32m[OK][0m 订阅 /imu
  [0;32m[OK][0m 订阅 /nn/local_trajectory

  收集数据 5.0 秒...

[0;34m阶段2: 底盘能力测试[0m

  [1;33m警告: 机器人会移动! 确保周围空间安全。[0m

[0;34m阶段4: 计算推荐配置[0m


[0;34m======================================================================
  诊断结果
======================================================================[0m

[0;36m传感器状态:[0m
  [0;32m[OK][0m odom: 49.9 Hz, 延迟: 0.5ms, 抖动: 0.6ms
  [0;31m[NO DATA][0m imu: 0.0 Hz, 延迟: 0.0ms, 抖动: 0.0ms
  [0;31m[NO DATA][0m trajectory: 0.0 Hz, 延迟: 0.0ms, 抖动: 0.0ms

[0;36m轨迹特性:[0m
  点数: 0
  时间步长: 0.1 sec
  包含速度: 否
  坐标系: 
  长度: 0.00 m
  最大曲率: 0.00 1/m

[0;36m底盘特性 (从里程计):[0m
  最大速度: 0.00 m/s
  最大vx: 0.00 m/s
  最大wz: 0.00 rad/s
  最大加速度: 0.00 m/s^2
  最大角加速度: 0.00 rad/s^2

[0;36m底盘测试结果:[0m
  实测最大速度: 0.00 m/s
  实测最大加速度: 0.00 m/s^2
  实测最大角速度: 0.00 rad/s
  响应时间: 1.000 sec

[0;36m推荐参数:[0m
  控制频率: 20 Hz
  MPC horizon: 3
  MPC dt: 0.1 sec
  v_max: 0.5 m/s
  omega_max: 1.0 rad/s
  a_max: 0.5 m/s^2
  Odom timeout: 60 ms
  Traj timeout: 1000 ms
  Lookahead: 0.5 m

[0;36m优化建议:[0m
  [1;33m[WARN][0m 里程计频率较低，控制频率受限
  [1;33m[WARN][0m 轨迹点数少，MPC预测受限
  [1;33m[WARN][0m 轨迹无速度信息，alpha检查禁用

[0;34m生成配置文件: /home/oamr/moshi/day2_chassis.yaml[0m
  [0;32m[OK][0m 配置已保存到: /home/oamr/moshi/day2_chassis.yaml

[0;36m使用方法:[0m
  roslaunch controller_ros controller.launch config:=$(pwd)//home/oamr/moshi/day2_chassis.yaml
